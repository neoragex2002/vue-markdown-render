import{_ as e,c as i,o as a,ag as n}from"./chunks/framework.C0wiDQbp.js";const g=JSON.parse('{"title":"VitePress docs playbook","description":"","frontmatter":{},"headers":[],"relativePath":"guide/vitepress-docs.md","filePath":"guide/vitepress-docs.md"}'),t={name:"guide/vitepress-docs.md"};function o(l,s,p,r,d,c){return a(),i("div",null,[...s[0]||(s[0]=[n(`<h1 id="vitepress-docs-playbook" tabindex="-1">VitePress docs playbook <a class="header-anchor" href="#vitepress-docs-playbook" aria-label="Permalink to &quot;VitePress docs playbook&quot;">​</a></h1><p>This page captures the structure we want for the documentation site so that new pages stay consistent and users can quickly answer the questions they usually have:</p><ol><li>What problem does the library solve and how does it fit into my stack (Vue, Nuxt, VitePress)?</li><li>Which component should I reach for, and what props + events matter?</li><li>How do I debug visual glitches (CSS resets, Tailwind/UnoCSS layers, browser defaults)?</li></ol><p>Use this page as the checklist before adding or polishing pages in the <code>/guide</code> section.</p><h2 id="_1-tell-the-whole-component-story" tabindex="-1">1. Tell the whole component story <a class="header-anchor" href="#_1-tell-the-whole-component-story" aria-label="Permalink to &quot;1. Tell the whole component story&quot;">​</a></h2><p>For every major component (e.g., <code>MarkdownRender</code>, <code>CodeBlockNode</code>, <code>ImageNode</code>, <code>MermaidBlockNode</code>, <code>MathBlockNode</code>):</p><ul><li><strong>At-a-glance cards</strong> — include a short summary block with: “Best for”, “Peers required”, “Key props/events”.</li><li><strong>Usage ladder</strong> — include three code snippets that escalate: <ol><li><em>Minimal render</em> — single-file example that just renders the component.</li><li><em>Full-featured usage</em> — highlight advanced props, slots, or events (e.g., streaming, toolbars).</li><li><em>Integration example</em> — show the component wired into VitePress, Nuxt, or a custom renderer via <code>setCustomComponents</code>.</li></ol></li><li><strong>Callouts for failure modes</strong> — each component section should dedicate 2–3 bullets to “Common gotchas” (e.g., <code>MermaidBlockNode</code> failing without <code>mermaid</code> peer, <code>CodeBlockNode</code> needing Monaco styles).</li><li><strong>Cross-links</strong> — close every component section with “See also” links so readers can navigate between <code>components</code>, <code>advanced</code>, <code>parser-api</code>, and troubleshooting content.</li></ul><p>Suggested heading layout per component:</p><div class="language-md vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">md</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## ComponentName</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">&gt; One-line description (problem the component solves)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">### Quick Reference</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Best for</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Key props/events (link to API tables)</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Required peers</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">### Usage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\`\`\`vue</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;!-- Minimal example --&gt;</span></span></code></pre></div><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- Full example + playground link --&gt;</span></span></code></pre></div><h3 id="customize-integrate" tabindex="-1">Customize &amp; Integrate <a class="header-anchor" href="#customize-integrate" aria-label="Permalink to &quot;Customize &amp; Integrate&quot;">​</a></h3><ul><li>Slots / <code>setCustomComponents</code> usage</li><li>CSS handles (variables, classes)</li></ul><h3 id="common-pitfalls" tabindex="-1">Common pitfalls <a class="header-anchor" href="#common-pitfalls" aria-label="Permalink to &quot;Common pitfalls&quot;">​</a></h3><ul><li>Browser default style conflicts</li><li>Peer dependency requirements</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span></span></span>
<span class="line"><span>## 2. Structure the sections users visit first</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Visitors follow a predictable path: **Quick Start → Usage &amp; API → Components → Troubleshooting**. Each of these pages should surface:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>- A “Choose your entry point” list (VitePress, Nuxt, standalone Vue) with links.</span></span>
<span class="line"><span>- Visual map of the renderer pipeline (Markdown → parser → AST → component tree).</span></span>
<span class="line"><span>- “What to do when things go wrong” callout linking to CSS reset instructions, UnoCSS/Tailwind guides, and playground repro tips.</span></span>
<span class="line"><span>- A shared “Component matrix” table summarizing which node renderer lives in which file. Add badges for “Slots”, “Events”, “Customizable via CSS variables”.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## 3. Bake troubleshooting into the docs</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Style bugs are the number one source of issues, especially when combining the renderer with Tailwind or UnoCSS. Every page that mentions CSS should:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>- Remind users to include a reset:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>\`\`\`css</span></span>
<span class="line"><span>/* docs styles entry */</span></span>
<span class="line"><span>@import &#39;modern-normalize&#39;;</span></span>
<span class="line"><span>@import &#39;markstream-vue/index.css&#39;;</span></span></code></pre></div><ul><li><p>Mention that the packaged CSS is scoped under an internal <code>.markstream-vue</code> container. <code>MarkdownRender</code> renders inside that container by default; standalone node components should be wrapped with <code>&lt;div class=&quot;markstream-vue&quot;&gt;...&lt;/div&gt;</code> so styles and variables apply.</p></li><li><p>Explain that most “styles look wrong” bugs come from the <strong>browser default stylesheet</strong> (margin on <code>p</code>, <code>pre</code>, <code>code</code>, <code>table</code>). Encourage importing a reset (<code>modern-css-reset</code>, <code>tailwindcss base</code>, UnoCSS <code>preflight</code>) <em>before</em> the library CSS.</p></li><li><p>Mention that Tailwind/UnoCSS run in different CSS layers. If the renderer styles are inserted before <code>@layer base/components/utilities</code>, utilities might override them, so wrap the import:</p></li></ul><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@layer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> components {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  @import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;markstream-vue/index.css&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>Point to <code>docs/guide/tailwind.md</code> for Tailwind-specific instructions and include a UnoCSS snippet:</li></ul><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// uno.config.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { defineConfig, presetUno, presetWind } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;unocss&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  presets: [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">presetUno</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">presetWind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  preflights: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      layer: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;preflights&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      getCSS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@import &quot;markstream-vue/index.css&quot;;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="_4-checklists-before-publishing-a-new-page" tabindex="-1">4. Checklists before publishing a new page <a class="header-anchor" href="#_4-checklists-before-publishing-a-new-page" aria-label="Permalink to &quot;4. Checklists before publishing a new page&quot;">​</a></h2><ol><li><strong>Link it from the sidebar</strong> (English + Chinese locales).</li><li><strong>Add playground reproduction</strong> link whenever showing usage.</li><li><strong>Add reset reminder</strong> if the page touches styling.</li><li><strong>Verify Tailwind/UnoCSS order</strong> by running <code>pnpm docs:dev</code> and testing with devtools layers.</li><li><strong>Update troubleshooting</strong> if a new edge case is documented.</li></ol><h2 id="_5-track-known-problem-categories" tabindex="-1">5. Track known problem categories <a class="header-anchor" href="#_5-track-known-problem-categories" aria-label="Permalink to &quot;5. Track known problem categories&quot;">​</a></h2><p>Document issues by grouping them into three buckets:</p><ul><li><strong>Browser defaults</strong> — padding/margins on headings, buttons, <code>&lt;details&gt;</code>. Recommend <code>@unocss/reset</code> or <code>modern-css-reset</code>.</li><li><strong>Utility frameworks</strong> — Tailwind or UnoCSS classes overriding component CSS. Outline the layer strategy and prefix recommendation (<code>prefix: &#39;tw-&#39;</code>).</li><li><strong>Third-party CSS</strong> — UI libraries injecting <code>:root</code> variables or <code>body</code> styles. Suggest scoping overrides via the <code>custom-id</code> prop and <code>setCustomComponents</code>.</li></ul><p>Even with container-scoped package CSS, third-party global styles can still affect the renderer (e.g., resets, <code>body</code> typography, global <code>a</code> styles). Prefer scoping your overrides to the renderer instance via <code>custom-id</code> and <code>[data-custom-id=&quot;...&quot;]</code> selectors.</p><p>Each bucket should have its own section inside <code>docs/guide/troubleshooting.md</code> so readers can skim and jump directly to the fix.</p>`,26)])])}const k=e(t,[["render",o]]);export{g as __pageData,k as default};
