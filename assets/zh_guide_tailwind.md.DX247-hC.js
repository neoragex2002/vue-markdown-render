import{_ as i,c as a,o as n,ag as e}from"./chunks/framework.C0wiDQbp.js";const o=JSON.parse('{"title":"Tailwind 集成与样式顺序","description":"","frontmatter":{},"headers":[],"relativePath":"zh/guide/tailwind.md","filePath":"zh/guide/tailwind.md"}'),l={name:"zh/guide/tailwind.md"};function t(p,s,h,d,k,c){return n(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="tailwind-集成与样式顺序" tabindex="-1">Tailwind 集成与样式顺序 <a class="header-anchor" href="#tailwind-集成与样式顺序" aria-label="Permalink to &quot;Tailwind 集成与样式顺序&quot;">​</a></h1><p>如果你的项目使用 Tailwind 或基于 Tailwind 的组件库（如 shadcn），可能会遇到样式覆盖问题。推荐将 <code>markstream-vue</code> 的 CSS 导入置于 <code>@layer components { ... }</code> 中以控制样式优先级。</p><p>另外，<code>markstream-vue</code> 的打包 CSS 会限定在内部 <code>.markstream-vue</code> 容器下以降低全局冲突；来自 <code>markstream-vue/index.css</code> 的 Tailwind 工具类只会在该容器内生效。</p><p>示例：</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@tailwind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> base;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@tailwind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> components;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@tailwind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> utilities;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@layer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> components {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  @import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;markstream-vue/index.css&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>更多替代方案：使用 <code>prefix</code> 配置以避免类名冲突，或在应用层覆盖样式。</p><h2 id="在-tailwind-中避免重复生成-css" tabindex="-1">在 Tailwind 中避免重复生成 CSS <a class="header-anchor" href="#在-tailwind-中避免重复生成-css" aria-label="Permalink to &quot;在 Tailwind 中避免重复生成 CSS&quot;">​</a></h2><p>为了在使用 Tailwind 的项目中减少重复的 utility CSS，推荐优先使用本包提供的 &quot;tailwind-ready&quot; 输出，而不是完整的预编译 <code>index.css</code>。</p><ul><li>Tailwind v3（推荐流程）： <ul><li>在应用中引入 <code>index.tailwind.css</code>，这样只会引入组件样式而不会把 Tailwind 的工具类重复打包进去。</li><li>在 <code>tailwind.config.js</code> 的 <code>content</code> 中加入本包生成的类列表，使 Tailwind 能识别并避免重新生成相同的类。</li></ul></li></ul><p>示例（Tailwind v3 / <code>tailwind.config.js</code>）：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  content: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;./src/**/*.{js,ts,vue}&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 包安装后可以使用：require(&#39;markstream-vue/tailwind&#39;)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;markstream-vue/tailwind&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>示例 CSS 导入（应用入口）：</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@tailwind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> base;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@tailwind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> components;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@tailwind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> utilities;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;markstream-vue/index.tailwind.css&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><ul><li><p>Tailwind v4：可以直接包含 <code>index.tailwind.css</code>，使用 v4 的扫描器发现类名，无需额外的 <code>tailwind.ts</code> 辅助文件。</p></li><li><p>非 Tailwind 项目：继续使用预编译好的 <code>index.css</code>：</p></li></ul><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;markstream-vue/index.css&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>说明：</p><ul><li>本包导出 <code>./tailwind</code> 条目（<code>./dist/tailwind.ts</code>），导出的是提取出的 class 列表。发布到 npm 后可以在 <code>tailwind.config.js</code> 中通过 <code>require(&#39;markstream-vue/tailwind&#39;)</code> 引入该列表。</li><li>在本地开发时也可以直接引用生成文件（例如 <code>./dist/tailwind.ts</code>）。</li></ul><h2 id="unocss-集成" tabindex="-1">UnoCSS 集成 <a class="header-anchor" href="#unocss-集成" aria-label="Permalink to &quot;UnoCSS 集成&quot;">​</a></h2><p>UnoCSS 遵循相同规则：先导入 reset，再将库的 CSS 放到受控 layer 中，避免被 <code>utilities</code> 覆盖。</p><ol><li>在 <code>uno.config.ts</code> 中注入 <code>preflights</code>：</li></ol><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { defineConfig, presetUno, presetWind } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;unocss&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  presets: [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">presetUno</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">presetWind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  preflights: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      layer: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;preflights&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      getCSS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@import &quot;markstream-vue/index.css&quot;;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><ol start="2"><li>或者手动在样式表中声明：</li></ol><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@unocss/reset/tailwind.css&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@layer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> components {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  @import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;markstream-vue/index.css&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ol start="3"><li>当类名与 Uno/Tailwind 冲突时，可以在配置中设置 prefix（如 Tailwind <code>prefix: &#39;tw-&#39;</code>，Uno 通过 <code>shortcutsPrefix</code> 或自定义规则），或者将 <code>MarkdownRender</code> 包裹在 <code>custom-id</code> 上下文中再进行覆盖。</li></ol><p>调试技巧：在浏览器 DevTools 中打开 “Cascade Layers” 面板，确认 <code>markstream-vue</code> 的样式位于 utilities 之上。如果不在正确层级，请调整导入位置或 <code>preflights</code> 顺序。</p>`,25)])])}const E=i(l,[["render",t]]);export{o as __pageData,E as default};
